/**
name    : FNX-UI
author  : by FNX-UI Team
version : 1.0.0
email   : hqy321@gmail.com
**/

!function(a,b){"function"==typeof define&&define.cmd?define(function(require){return require("$"),a(b),b.FNX}):a(b)}(function(a){!function(a){var b=a.FNX||(a.FNX={});b.__clz__||(b.__clz__={}),b.__loader__=function(){var a={},b=this.using=function(c){var d=a[c],e="exports";return"object"==typeof d?d:(d[e]||(d[e]={},d[e]=d.call(d[e],b,d[e],d)||d[e]),d[e])};this.namespace=function(b,c){a[b]=c}},b.include=function(a){return b.__clz__[a]}}(a),function(a){var b=new FNX.__loader__,c=b.using,d=b.namespace,b=FNX.__clz__;d("class/class",function(a,b,c){function d(a){return this instanceof d||!l(a)?void 0:f(a)}function e(a){var b,c;for(b in a)c=a[b],d.Mutators.hasOwnProperty(b)?d.Mutators[b].call(this,c):this.prototype[b]=c}function f(a){return a.extend=d.extend,a.implement=e,a}function g(){}function h(a,b,c){for(var d in b)if(b.hasOwnProperty(d)){if(c&&-1===m(c,d))continue;"prototype"!==d&&(a[d]=b[d])}}c.exports=d,d.create=function(a,b){function c(){a.apply(this,arguments),this.constructor===c&&this.initialize&&this.initialize.apply(this,arguments)}return l(a)||(b=a,a=null),b||(b={}),a||(a=b.Extends||d),b.Extends=a,a!==d&&h(c,a,a.StaticsWhiteList),e.call(c,b),f(c)},d.extend=function(a){return a||(a={}),a.Extends=this,d.create(a)},d.Mutators={Extends:function(a){var b=this.prototype,c=i(a.prototype);h(c,b),c.constructor=this,this.prototype=c,this.superclass=a.prototype},Implements:function(a){k(a)||(a=[a]);for(var b,c=this.prototype;b=a.shift();)h(c,b.prototype||b)},Statics:function(a){h(this,a)}};var i=Object.__proto__?function(a){return{__proto__:a}}:function(a){return g.prototype=a,new g},j=Object.prototype.toString,k=Array.isArray||function(a){return"[object Array]"===j.call(a)},l=function(a){return"[object Function]"===j.call(a)},m=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1}}),FNX.__clz__["fnx/cmp/class/class"]=c("class/class")}(a),function(a){var b=new FNX.__loader__,c=b.using,d=b.namespace,b=FNX.__clz__;d("events/events",function(a,b,c){function d(){}function e(a,b){for(var c=0;c<a.length;c++)b(a[c])}function f(a,b,c){var d=!0;if(a){var e=0,f=a.length,g=b[0],h=b[1],i=b[2];switch(b.length){case 0:for(;f>e;e+=2)d=a[e].call(a[e+1]||c)!==!1&&d;break;case 1:for(;f>e;e+=2)d=a[e].call(a[e+1]||c,g)!==!1&&d;break;case 2:for(;f>e;e+=2)d=a[e].call(a[e+1]||c,g,h)!==!1&&d;break;case 3:for(;f>e;e+=2)d=a[e].call(a[e+1]||c,g,h,i)!==!1&&d;break;default:for(;f>e;e+=2)d=a[e].apply(a[e+1]||c,b)!==!1&&d}}return d}function g(a){return"[object Function]"===Object.prototype.toString.call(a)}var h=/\s+/;d.prototype.on=function(a,b,c){var d,e,f;if(!b)return this;for(d=this.__events||(this.__events={}),a=a.split(h);e=a.shift();)f=d[e]||(d[e]=[]),f.push(b,c);return this},d.prototype.once=function(a,b,c){var d=this,e=function(){d.off(a,e),b.apply(c||d,arguments)};return this.on(a,e,c)},d.prototype.off=function(a,b,c){var d,e,f,g;if(!(d=this.__events))return this;if(!(a||b||c))return delete this.__events,this;for(a=a?a.split(h):i(d);e=a.shift();)if(f=d[e])if(b||c)for(g=f.length-2;g>=0;g-=2)b&&f[g]!==b||c&&f[g+1]!==c||f.splice(g,2);else delete d[e];return this},d.prototype.trigger=function(a){var b,c,d,e,g,i,j=[],k=!0;if(!(b=this.__events))return this;for(a=a.split(h),g=1,i=arguments.length;i>g;g++)j[g-1]=arguments[g];for(;c=a.shift();)(d=b.all)&&(d=d.slice()),(e=b[c])&&(e=e.slice()),"all"!==c&&(k=f(e,j,this)&&k),k=f(d,[c].concat(j),this)&&k;return k},d.prototype.emit=d.prototype.trigger;var i=Object.keys;i||(i=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}),d.mixTo=function(a){function b(b){a[b]=function(){return c[b].apply(h,Array.prototype.slice.call(arguments)),this}}var c=d.prototype;if(g(a)){for(var f in c)c.hasOwnProperty(f)&&(a.prototype[f]=c[f]);e(i(c),function(b){a.prototype[b]=c[b]})}else{var h=new d;for(var f in c)c.hasOwnProperty(f)&&b(f)}},c.exports=d}),FNX.__clz__["fnx/cmp/events/events"]=c("events/events")}(a),function(a){var b=new FNX.__loader__,c=b.using,d=b.namespace,b=FNX.__clz__,e={};d("base/aspect",function(a,b,c){function d(a,b,c,d){for(var h,i,j=b.split(g);h=j.shift();)i=e(this,h),i.__isAspected||f.call(this,h),this.on(a+":"+h,c,d);return this}function e(a,b){var c=a[b];if(!c)throw new Error("Invalid method name: "+b);return c}function f(a){var b=this[a];this[a]=function(){var c=Array.prototype.slice.call(arguments),d=["before:"+a].concat(c);if(this.trigger.apply(this,d)!==!1){var e=b.apply(this,arguments),f=["after:"+a,e].concat(c);return this.trigger.apply(this,f),e}},this[a].__isAspected=!0}b.before=function(a,b,c){return d.call(this,"before",a,b,c)},b.after=function(a,b,c){return d.call(this,"after",a,b,c)};var g=/\s+/}),d("base/attribute",function(a,b,c){function d(a){return"[object String]"===w.call(a)}function e(a){return"[object Function]"===w.call(a)}function f(a){return null!=a&&a==a.window}function g(a){if(!a||"[object Object]"!==w.call(a)||a.nodeType||f(a))return!1;try{if(a.constructor&&!x.call(a,"constructor")&&!x.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}var c;if(v)for(c in a)return x.call(a,c);for(c in a);return void 0===c||x.call(a,c)}function h(a){if(!a||"[object Object]"!==w.call(a)||a.nodeType||f(a)||!a.hasOwnProperty)return!1;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function i(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=j(b[c],a[c]));return a}function j(a,b){return y(a)?a=a.slice():g(a)&&(g(b)||(b={}),a=i(b,a)),a}function k(a,b,c){for(var d=[],e=b.constructor.prototype;e;)e.hasOwnProperty("attrs")||(e.attrs={}),m(c,e.attrs,e),h(e.attrs)||d.unshift(e.attrs),e=e.constructor.superclass;for(var f=0,g=d.length;g>f;f++)r(a,q(d[f]))}function l(a,b){r(a,q(b,!0),!0)}function m(a,b,c,d){for(var e=0,f=a.length;f>e;e++){var g=a[e];c.hasOwnProperty(g)&&(b[g]=d?b.get(g):c[g])}}function n(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d,f=b[c].value;e(f)&&(d=c.match(A))&&(a[d[1]](o(d[2]),f),delete b[c])}}function o(a){var b=a.match(B),c=b[1]?"change:":"";return c+=b[2].toLowerCase()+b[3]}function p(a,b,c){var d={silent:!0};a.__initializingAttrs=!0;for(var e in c)c.hasOwnProperty(e)&&b[e].setter&&a.set(e,c[e],d);delete a.__initializingAttrs}function q(a,b){var c={};for(var d in a){var e=a[d];!b&&g(e)&&s(e,C)?c[d]=e:c[d]={value:e}}return c}function r(a,b,c){var d,e,f;for(d in b)if(b.hasOwnProperty(d)){if(e=b[d],f=a[d],f||(f=a[d]={}),void 0!==e.value&&(f.value=j(e.value,f.value)),c)continue;for(var g in D){var h=D[g];void 0!==e[h]&&(f[h]=e[h])}}return a}function s(a,b){for(var c=0,d=b.length;d>c;c++)if(a.hasOwnProperty(b[c]))return!0;return!1}function t(a){return null==a||(d(a)||y(a))&&0===a.length||h(a)}function u(a,b){if(a===b)return!0;if(t(a)&&t(b))return!0;var c=w.call(a);if(c!=w.call(b))return!1;switch(c){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase;case"[object Array]":var d=a.toString(),e=b.toString();return-1===d.indexOf("[object")&&-1===e.indexOf("[object")&&d===e}if("object"!=typeof a||"object"!=typeof b)return!1;if(g(a)&&g(b)){if(!u(z(a),z(b)))return!1;for(var f in a)if(a[f]!==b[f])return!1;return!0}return!1}b.initAttrs=function(a){var b=this.attrs={},c=this.propsInAttrs||[];k(b,this,c),a&&l(b,a),p(this,b,a),n(this,b),m(c,this,b,!0)},b.get=function(a){var b=this.attrs[a]||{},c=b.value;return b.getter?b.getter.call(this,c,a):c},b.set=function(a,b,c){var e={};d(a)?e[a]=b:(e=a,c=b),c||(c={});var f=c.silent,h=c.override,j=this.attrs,k=this.__changedAttrs||(this.__changedAttrs={});for(a in e)if(e.hasOwnProperty(a)){var l=j[a]||(j[a]={});if(b=e[a],l.readOnly)throw new Error("This attribute is readOnly: "+a);l.setter&&(b=l.setter.call(this,b,a));var m=this.get(a);!h&&g(m)&&g(b)&&(b=i(i({},m),b)),j[a].value=b,this.__initializingAttrs||u(m,b)||(f?k[a]=[b,m]:this.trigger("change:"+a,b,m,a))}return this},b.change=function(){var a=this.__changedAttrs;if(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];this.trigger("change:"+b,c[0],c[1],b)}delete this.__changedAttrs}return this},b._isPlainObject=g;var v,w=Object.prototype.toString,x=Object.prototype.hasOwnProperty;!function(){function a(){this.x=1}var b=[];a.prototype={valueOf:1,y:1};for(var c in new a)b.push(c);v="x"!==b[0]}();var y=Array.isArray||function(a){return"[object Array]"===w.call(a)},z=Object.keys;z||(z=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b});var A=/^(on|before|after)([A-Z].*)$/,B=/^(Change)?([A-Z])(.*)/,C=["value","getter","setter","readOnly"],D=["setter","getter","readOnly"]}),d("base/base",function(a,b,c){function d(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d="_onChange"+f(c);a[d]&&a.on("change:"+c,a[d])}}function f(a){return a.charAt(0).toUpperCase()+a.substring(1)}var g=e["class/class"],h=e["events/events"],i=a("base/aspect"),j=a("base/attribute");c.exports=g.create({Implements:[h,i,j],initialize:function(a){this.initAttrs(a),d(this,this.attrs)},destroy:function(){this.off();for(var a in this)this.hasOwnProperty(a)&&delete this[a];this.destroy=function(){}}})}),e["class/class"]=FNX.__clz__["fnx/cmp/class/class"],e["events/events"]=FNX.__clz__["fnx/cmp/events/events"],FNX.__clz__["fnx/cmp/base/base"]=c("base/base")}(a),function(a){var b=new FNX.__loader__,c=b.using,d=b.namespace,b=FNX.__clz__,e={};d("widget/daparser",function(a,b,c){function d(a){return a.toLowerCase().replace(i,function(a,b){return(b+"").toUpperCase()})}function f(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];if("string"!=typeof c)continue;j.test(c)?(c=c.replace(/'/g,'"'),a[b]=f(k(c))):a[b]=g(c)}return a}function g(a){if("false"===a.toLowerCase())a=!1;else if("true"===a.toLowerCase())a=!0;else if(/\d/.test(a)&&/[^a-z]/i.test(a)){var b=parseFloat(a);b+""===a&&(a=b)}return a}var h=e.$;b.parseElement=function(a,b){var c={},e={},g={},i=h.trim(a.attr("widget-options"));if(i&&("{"!=i.substring(0,1)&&(i="{"+i+"}"),g=new Function("return "+i)()),a=h(a)[0],a.dataset)c=h.extend({},a.dataset);else for(var j=a.attributes,k=0,l=j.length;l>k;k++){var m=j[k],n=m.name;0===n.indexOf("data-")&&(n=d(n.substring(5)),c[n]=m.value)}return e=b===!0?c:f(c),h.extend(e,g),e};var i=/-([a-z])/g,j=/^\s*[\[{].*[\]}]\s*$/,k=this.JSON?JSON.parse:h.parseJSON}),d("widget/auto-render",function(a,b,c){function d(a,b){for(var c=0;c<a.length;c++)b(c,a[c])}function f(a){return FNX.include(a)}function g(a,b){if(!b.attr(i)){var c={initElement:b,renderType:"auto"},d=b.attr("data-widget-role");c[d?d:"element"]=b,a.autoRender&&a.autoRender(c),b.attr(i,"true")}}var h=e.$,i="data-widget-auto-rendered",j="clz:";b.autoRender=function(a){return new this(a).render()},b.autoRenderAll=function(a,c){"function"==typeof a&&(c=a,a=null),a=h(a||"body");var e=[],i=[],k=[];a.find("[data-widget]").each(function(a,c){if(!b.isDataApiOff(c)){var d=c.getAttribute("data-widget")||"";0===d.indexOf(j)?k.push({clz:f(d.substring(j.length)),emt:h(c)}):(e.push(d.toLowerCase()),i.push(h(c)))}}),d(k,function(a,b){g(b.clz,b.emt)}),e.length?seajs.use(e,function(){d(arguments,function(a,b){g(b,i[a])}),c&&c()}):c&&c()};var k="off"===h("body").attr("data-api");b.isDataApiOff=function(a){var b=h(a).attr("data-api");return"off"===b||"on"!==b&&k}}),d("widget/widget",function(b,c,d){function f(){function a(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return"widget-"+a()+a()+a()+a()+a()+a()+a()+a()}function g(a){return"[object String]"===y.call(a)}function h(a){return"[object Function]"===y.call(a)}function i(a){return z(document.documentElement,a)}function j(a){return a.charAt(0).toUpperCase()+a.substring(1)}function k(a){return h(a.events)&&(a.events=a.events()),a.events}function l(a,b){var c=a.match(A),d=c[1]+t+b.cid,e=c[2]||void 0;return e&&e.indexOf("{{")>-1&&(e=m(e,b)),{type:d,selector:e}}function m(a,b){return a.replace(B,function(a,c){for(var d,e=c.split("."),f=b;d=e.shift();)f=f===b.attrs?b.get(d):f[d];return g(f)?f:C})}function n(a){return null==a||void 0===a}function o(a){for(var b=a.length-1;b>=0&&void 0===a[b];b--)a.pop();return a}var p=e["base/base"],q=e.$,r=b("widget/daparser"),s=b("widget/auto-render"),t=".delegate-events-",u="_onRender",v="data-widget-cid",w={},x=p.extend({propsInAttrs:["initElement","element","events"],element:null,events:null,attrs:{id:null,className:null,style:null,locale:"zh-cn",template:"<div></div>",model:null,parentNode:"body"},initialize:function(a){this.cid=f();var b=this._parseDataAttrsConfig(a);x.superclass.initialize.call(this,a?q.extend(b,a):b),this.parseElement(),this.initProps(),this.delegateEvents(),this.setup(),this._stamp(),this._isTemplate=!(a&&a.element)},_parseDataAttrsConfig:function(a){var b,c;return a&&(b=q(a.initElement?a.initElement:a.element)),b&&b[0]&&!s.isDataApiOff(b)&&(c=r.parseElement(b)),c},parseElement:function(){var a=this.element;if(a?this.element=q(a):this.get("template")&&this.parseElementFromTemplate(),!this.element||!this.element[0])throw new Error("element is invalid")},parseElementFromTemplate:function(){this.element=q(this.get("template"))},initProps:function(){},delegateEvents:function(a,b,c){var d=o(Array.prototype.slice.call(arguments));if(0===d.length?(b=k(this),a=this.element):1===d.length?(b=a,a=this.element):2===d.length?(c=b,b=a,a=this.element):(a||(a=this.element),this._delegateElements||(this._delegateElements=[]),this._delegateElements.push(q(a))),g(b)&&h(c)){var e={};e[b]=c,b=e}for(var f in b)if(b.hasOwnProperty(f)){var i=l(f,this),j=i.type,m=i.selector;!function(b,c){var d=function(a){h(b)?b.call(c,a):c[b](a)};m?q(a).on(j,m,d):q(a).on(j,d)}(b[f],this)}return this},undelegateEvents:function(a,b){var c=o(Array.prototype.slice.call(arguments));if(b||(b=a,a=null),0===c.length){var d=t+this.cid;if(this.element&&this.element.off(d),this._delegateElements)for(var e in this._delegateElements)this._delegateElements.hasOwnProperty(e)&&this._delegateElements[e].off(d)}else{var f=l(b,this);a?q(a).off(f.type,f.selector):this.element&&this.element.off(f.type,f.selector)}return this},setup:function(){},render:function(){this.rendered||(this._renderAndBindAttrs(),this.rendered=!0);var a=this.get("parentNode");if(a&&!i(this.element[0])){var b=this.constructor.outerBoxClass;if(b){var c=this._outerBox=q("<div></div>").addClass(b);c.append(this.element).appendTo(a)}else this.element.appendTo(a)}return this},_renderAndBindAttrs:function(){var a=this,b=a.attrs;for(var c in b)if(b.hasOwnProperty(c)){var d=u+j(c);if(this[d]){var e=this.get(c);n(e)||this[d](e,void 0,c),function(b){a.on("change:"+c,function(c,d,e){a[b](c,d,e)})}(d)}}},_onRenderId:function(a){this.element.attr("id",a)},_onRenderClassName:function(a){this.element.addClass(a)},_onRenderStyle:function(a){this.element.css(a)},_stamp:function(){var a=this.cid;(this.initElement||this.element).attr(v,a),w[a]=this},$:function(a){return this.element.find(a)},destroy:function(){this.undelegateEvents(),delete w[this.cid],this.element&&this._isTemplate&&(this.element.off(),this._outerBox?this._outerBox.remove():this.element.remove()),this.element=null,x.superclass.destroy.call(this)}});q(a).unload(function(){for(var a in w)w[a].destroy()}),x.query=function(a){var b,c=q(a).eq(0);return c&&(b=c.attr(v)),w[b]},x.switchLocale=function(a){for(var b in w)w[b].set("locale",a)},x.autoRender=s.autoRender,x.autoRenderAll=s.autoRenderAll,x.StaticsWhiteList=["autoRender"],d.exports=x;var y=Object.prototype.toString,z=q.contains||function(a,b){return!!(16&a.compareDocumentPosition(b))},A=/^(\S+)\s*(.*)$/,B=/{{([^}]+)}}/g,C="INVALID_SELECTOR"}),e["base/base"]=FNX.__clz__["fnx/cmp/base/base"],e.$=$,FNX.__clz__["fnx/cmp/widget/widget"]=c("widget/widget")}(a),function(a){var b=new FNX.__loader__,c=b.using,d=b.namespace,b=FNX.__clz__,e={};d("position/position",function(b,c,d){function f(b){b=k(b)||{},b.nodeType&&(b={element:b});var c=k(b.element)||n;if(1!==c.nodeType)throw new Error("posObject.element is invalid.");var d={element:c,x:b.x||0,y:b.y||0},e=c===n||"VIEWPORT"===c._id;return d.offset=function(){return p?{left:0,top:0}:e?{left:o(document).scrollLeft(),top:o(document).scrollTop()}:l(o(c)[0])},d.size=function(){var b=o(e?a:c);return{width:b.outerWidth(),height:b.outerHeight()}},d}function g(a){a.x=h(a.x,a,"width"),a.y=h(a.y,a,"height")}function h(a,b,c){if(a+="",a=a.replace(/px/gi,""),/\D/.test(a)&&(a=a.replace(/(?:top|left)/gi,"0%").replace(/center/gi,"50%").replace(/(?:bottom|right)/gi,"100%")),-1!==a.indexOf("%")&&(a=a.replace(/(\d+(?:\.\d+)?)%/gi,function(a,d){return b.size()[c]*(d/100)})),/[+\-*\/]/.test(a))try{a=new Function("return "+a)()}catch(d){throw new Error("Invalid position value: "+a)}return j(a)}function i(a){var b=a.offsetParent();b[0]===document.documentElement&&(b=o(document.body)),r&&b.css("zoom",1);var c;return c=b[0]===document.body&&"static"===b.css("position")?{top:0,left:0}:l(b[0]),c.top+=j(b.css("border-top-width")),c.left+=j(b.css("border-left-width")),c}function j(a){return parseFloat(a,10)||0}function k(a){return o(a)[0]}function l(b){var c=b.getBoundingClientRect(),d=document.documentElement;return{left:c.left+(a.pageXOffset||d.scrollLeft)-(d.clientLeft||document.body.clientLeft||0),top:c.top+(a.pageYOffset||d.scrollTop)-(d.clientTop||document.body.clientTop||0)}}var m=c,n={_id:"VIEWPORT",nodeType:1},o=e.$,p=!1,q=(a.navigator.userAgent||"").toLowerCase(),r=-1!==q.indexOf("msie 6");m.pin=function(a,b){if(a=f(a),b=f(b),a.element!==n&&"VIEWPORT"!==a.element._id){var c=o(a.element);"fixed"!==c.css("position")||r?(c.css("position","absolute"),p=!1):p=!0,g(a),g(b);var d=i(c),e=b.offset(),h=e.top+b.y-a.y-d.top,j=e.left+b.x-a.x-d.left;c.css({left:j,top:h})}},m.center=function(a,b){m.pin({element:a,x:"50%",y:"50%"},{element:b,x:"50%",y:"50%"})},m.VIEWPORT=n}),e.$=$,FNX.__clz__["fnx/cmp/position/position"]=c("position/position")}(a),function(a){var b=new FNX.__loader__,c=b.using,d=b.namespace,b=FNX.__clz__;d("templatable/engine",function(a,b,c){function d(a){return a.replace(w,"").replace(x,",").replace(y,"").replace(z,"").replace(A,"").split(B)}function e(a){return"'"+a.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function f(a,b){function c(a){return m+=a.split(/\n/).length-1,k&&(a=a.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),a&&(a=p[1]+e(a)+p[2]+"\n"),a}function f(a){var c=m;if(j?a=j(a,b):g&&(a=a.replace(/\n/g,function(){return m++,"$line="+m+";"})),0===a.indexOf("=")){var e=l&&!/^=[=#]/.test(a);if(a=a.replace(/^=[=#]?|[\s;]*$/g,""),e){var f=a.replace(/\s*\([^\)]+\)/,"");q[f]||/^(include|print)$/.test(f)||(a="$escape("+a+")")}else a="$string("+a+")";a=p[1]+a+p[2]}return g&&(a="$line="+c+";"+a),u(d(a),function(a){if(a&&!n[a]){var b;b="print"===a?t:"include"===a?v:q[a]?"$utils."+a:r[a]?"$helpers."+a:"$data."+a,w+=a+"="+b+",",n[a]=!0}}),a+"\n"}var g=b.debug,h=b.openTag,i=b.closeTag,j=b.parser,k=b.compress,l=b.escape,m=1,n={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},o="".trim,p=o?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],s=o?"$out+=text;return $out;":"$out.push(text);",t="function(){var text=''.concat.apply('',arguments);"+s+"}",v="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+s+"}",w="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(g?"$line=0,":""),x=p[0],y="return new String("+p[3]+");";u(a.split(h),function(a){a=a.split(i);var b=a[0],d=a[1];1===a.length?x+=c(b):(x+=f(b),d&&(x+=c(d)))});var z=w+x+y;g&&(z="try{"+z+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+e(a)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var A=new Function("$data","$filename",z);return A.prototype=q,A}catch(B){throw B.temp="function anonymous($data,$filename) {"+z+"}",B}}var g=function(a,b){return"string"==typeof b?t(b,{filename:a}):j(a,b)};g.version="3.0.0",g.config=function(a,b){h[a]=b};var h=g.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},i=g.cache={};g.render=function(a,b){return t(a,b)};var j=g.renderFile=function(a,b){var c=g.get(a)||s({filename:a,name:"Render Error",message:"Template not found"});return b?c(b):c};g.get=function(a){var b;if(i[a])b=i[a];else if("object"==typeof document){var c=document.getElementById(a);if(c){var d=(c.value||c.innerHTML).replace(/^\s*|\s*$/g,"");b=t(d,{filename:a})}}return b};var k=function(a,b){return"string"!=typeof a&&(b=typeof a,"number"===b?a+="":a="function"===b?k(a.call(a)):""),a},l={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},m=function(a){return l[a]},n=function(a){return k(a).replace(/&(?![\w#]+;)|[<>"']/g,m)},o=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},p=function(a,b){var c,d;if(o(a))for(c=0,d=a.length;d>c;c++)b.call(a,a[c],c,a);else for(c in a)b.call(a,a[c],c)},q=g.utils={$helpers:{},$include:j,$string:k,$escape:n,$each:p};g.helper=function(a,b){r[a]=b};var r=g.helpers=q.$helpers;g.onerror=function(a){var b="Template Error\n\n";for(var c in a)b+="<"+c+">\n"+a[c]+"\n\n";"object"==typeof console&&console.error(b)};var s=function(a){return g.onerror(a),function(){return"{Template Error}"}},t=g.compile=function(a,b){function c(c){try{return new g(c,e)+""}catch(d){return b.debug?s(d)():(b.debug=!0,t(a,b)(c))}}b=b||{};for(var d in h)void 0===b[d]&&(b[d]=h[d]);var e=b.filename;try{var g=f(a,b)}catch(j){return j.filename=e||"anonymous",j.name="Syntax Error",s(j)}return c.prototype=g.prototype,c.toString=function(){return g.toString()},e&&b.cache&&(i[e]=c),c},u=q.$each,v="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",w=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,x=/[^\w$]+/g,y=new RegExp(["\\b"+v.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),z=/^\d[^,]*|,\d[^,]*/g,A=/^,+|,+$/g,B=/^$|,+/;h.openTag="{{",h.closeTag="}}";var C=function(a,b){var c=b.split(":"),d=c.shift(),e=c.join(":")||"";return e&&(e=", "+e),"$helpers."+d+"("+a+e+")"};h.parser=function(a,b){a=a.replace(/^\s/,"");var c=a.split(" "),d=c.shift(),e=c.join(" ");switch(d){case"if":a="if("+e+"){";break;case"else":c="if"===c.shift()?" if("+c.join(" ")+")":"",a="}else"+c+"{";break;case"/if":a="}";break;case"each":var f=c[0]||"$data",h=c[1]||"as",i=c[2]||"$value",j=c[3]||"$index",k=i+","+j;"as"!==h&&(f="[]"),a="$each("+f+",function("+k+"){";break;case"/each":a="});";break;case"echo":a="print("+e+");";break;case"print":case"include":a=d+"("+c.join(",")+");";break;default:if(/^\s*\|\s*[\w\$]/.test(e)){var l=!0;0===a.indexOf("#")&&(a=a.substr(1),l=!1);for(var m=0,n=a.split("|"),o=n.length,p=n[m++];o>m;m++)p=C(p,n[m]);a=(l?"=":"=#")+p}else a=g.helpers[d]?"=#"+d+"("+c.join(",")+");":"="+a}return a},c.exports=g}),d("templatable/templatable",function(a,b,c){function d(a){return k(a)?null:$(f(a))}function e(a,b){if(a){var c;if(b){if(c=a.find(b),0===c.length)throw new Error("Invalid template selector: "+b)}else c=a;return g(c.html())}}function f(a){return a.replace(/({[^}]+}})/g,"<!--$1-->").replace(/\s(src|href)\s*=\s*(['"])(.*?\{.+?)\2/g," data-templatable-$1=$2$3$2")}function g(a){return a.replace(/(?:<|&lt;)!--({{[^}]+}})--(?:>|&gt;)/g,"$1").replace(/data-templatable-/gi,"")}var h=a("templatable/engine"),i={};c.exports={templateObject:null,parseElementFromTemplate:function(){var a,b=this.get("template");/^#/.test(b)&&(a=document.getElementById(b.substring(1)))&&(b=a.innerHTML,this.set("template",b)),this.templateObject=d(b),this.element=$(this.compile())},compile:function(a,b){a||(a=this.get("template")),b||(b=this.get("model"))||(b={}),b.toJSON&&(b=b.toJSON());var c=i[a];c||(c=i[a]=h.compile(a));var d=c(b);return d},renderPartial:function(a){if(this.templateObject){var b=e(this.templateObject,a);b?a?this.$(a).html(this.compile(b)):this.element.html(this.compile(b)):this.element.html(this.compile())}else{var c=$(this.compile()),d=c.find(a);d.length?this.$(a).html(d.html()):this.element.html(c.html())}return this}};var j=Object.prototype.toString,k=function(a){return"[object Function]"===j.call(a)}}),FNX.__clz__["fnx/cmp/templatable/templatable"]=c("templatable/templatable")}(a),function(a){var b=new FNX.__loader__,c=b.using,d=b.namespace,b=FNX.__clz__,e={};d("easing/easing",function(a,b,c){var d=Math.PI,f=Math.pow,g=Math.sin,h=1.70158,i={easeNone:function(a){return a},easeIn:function(a){return a*a},easeOut:function(a){return(2-a)*a},easeBoth:function(a){return(a*=2)<1?.5*a*a:.5*(1- --a*(a-2))},easeInStrong:function(a){return a*a*a*a},easeOutStrong:function(a){return 1- --a*a*a*a},easeBothStrong:function(a){return(a*=2)<1?.5*a*a*a*a:.5*(2-(a-=2)*a*a*a)},backIn:function(a){return 1===a&&(a-=.001),a*a*((h+1)*a-h)},backOut:function(a){return(a-=1)*a*((h+1)*a+h)+1},backBoth:function(a){var b=h,c=(b*=1.525)+1;return(a*=2)<1?.5*a*a*(c*a-b):.5*((a-=2)*a*(c*a+b)+2)},elasticIn:function(a){var b=.3,c=b/4;return 0===a||1===a?a:-(f(2,10*(a-=1))*g(2*(a-c)*d/b))},elasticOut:function(a){var b=.3,c=b/4;return 0===a||1===a?a:f(2,-10*a)*g(2*(a-c)*d/b)+1},elasticBoth:function(a){var b=.45,c=b/4;return 0===a||2===(a*=2)?a:1>a?-.5*f(2,10*(a-=1))*g(2*(a-c)*d/b):f(2,-10*(a-=1))*g(2*(a-c)*d/b)*.5+1},bounceIn:function(a){return 1-i.bounceOut(1-a)},bounceOut:function(a){var b,c=7.5625;return b=1/2.75>a?c*a*a:2/2.75>a?c*(a-=1.5/2.75)*a+.75:2.5/2.75>a?c*(a-=2.25/2.75)*a+.9375:c*(a-=2.625/2.75)*a+.984375},bounceBoth:function(a){return.5>a?.5*i.bounceIn(2*a):.5*i.bounceOut(2*a-1)+.5}};c.exports=i;var j=e.$;j.extend(j.easing,i)}),e.$=$,FNX.__clz__["fnx/cmp/easing/easing"]=c("easing/easing")}(a),function(a){var b=new FNX.__loader__,c=b.using,d=b.namespace,b=FNX.__clz__,e={};d("iframe-shim/iframe-shim",function(b,c,d){function f(a){this.target=i(a).eq(0)}function g(){}function h(a){var b={display:"none",border:"none",opacity:0,position:"absolute"},c=a.css("zIndex");return c&&c>0&&(b.zIndex=c-1),i("<iframe>",{src:"javascript:''",frameborder:0,css:b}).insertBefore(a)}var i=e.$,j=e["position/position"],k=-1!==(a.navigator.userAgent||"").toLowerCase().indexOf("msie 6");f.prototype.sync=function(){var a=this.target,b=this.iframe;if(!a.length)return this;var c=a.outerHeight(),d=a.outerWidth();return c&&d&&!a.is(":hidden")?(b||(b=this.iframe=h(a)),b.css({height:c,width:d}),j.pin(b[0],a[0]),b.show()):b&&b.hide(),this},f.prototype.destroy=function(){this.iframe&&(this.iframe.remove(),delete this.iframe),delete this.target},k?d.exports=f:(g.prototype.sync=function(){return this},g.prototype.destroy=g,d.exports=g)}),e.$=$,e["position/position"]=FNX.__clz__["fnx/cmp/position/position"],FNX.__clz__["fnx/cmp/iframe-shim/iframe-shim"]=c("iframe-shim/iframe-shim")}(a),function(a){var b=new FNX.__loader__,c=b.using,d=b.namespace,b=FNX.__clz__,e={};d("overlay/overlay",function(b,c,d){function f(a){return i.contains(document.documentElement,a)}function g(a){i(m.blurOverlays).each(function(b,c){if(c&&c.get("visible")){for(var d=0;d<c._relativeElements.length;d++){var e=i(c._relativeElements[d])[0];if(e===a.target||i.contains(e,a.target))return}c.hide()}})}function h(a,b){for(var c=0;c<b.length;c++)if(a===b[c])return b.splice(c,1),b}var i=e.$,j=e["position/position"],k=e["iframe-shim/iframe-shim"],l=e["widget/widget"],m=l.extend({attrs:{width:null,height:null,zIndex:99,visible:!1,align:{selfXY:[0,0],baseElement:j.VIEWPORT,baseXY:[0,0]},parentNode:"body"},show:function(){return this.rendered||this.render(),this.set("visible",!0),this},hide:function(){return this.set("visible",!1),this},reset:function(){return this._setPosition(),this},setup:function(){var a=this;this._setupShim(),this._setupResize(),this.after("render",function(){var a=this.element.css("position");("static"===a||"relative"===a)&&this.element.css({position:"absolute",left:"-9999px",top:"-9999px"})}),this.after("show",function(){a._setPosition()})},destroy:function(){return h(this,m.allOverlays),h(this,m.blurOverlays),m.superclass.destroy.call(this)},_setPosition:function(a){if(f(this.element[0])&&(a||(a=this.get("align")),a)){var b="none"===this.element.css("display");return b&&this.element.css({visibility:"hidden",display:"block"}),j.pin({element:this.element,x:a.selfXY[0],y:a.selfXY[1]},{element:a.baseElement,x:a.baseXY[0],y:a.baseXY[1]}),b&&this.element.css({visibility:"",display:"none"}),this}},_setupShim:function(){var a=new k(this.element);this.after("hide _setPosition",a.sync,a);var b=["width","height"];for(var c in b)b.hasOwnProperty(c)&&this.on("change:"+c,a.sync,a);this.before("destroy",a.destroy,a)},_setupResize:function(){m.allOverlays.push(this),this.on("windowResize",this._onWindowResize)},_blurHide:function(a){a=i.makeArray(a),a.push(this.element),this._relativeElements=a,m.blurOverlays.push(this)},_onRenderWidth:function(a){this.element.css("width",a)},_onRenderHeight:function(a){this.element.css("height",a)},_onRenderZIndex:function(a){this.element.css("zIndex",a)},_onRenderAlign:function(a){this._setPosition(a)},_onRenderVisible:function(a){this.element[a?"show":"hide"]()},_onWindowResize:function(){this.get("visible")&&this._setPosition()}});m.blurOverlays=[],i(document).on("click",function(a){g(a)});var n,o=i(a).width(),p=i(a).height();m.allOverlays=[],i(a).resize(function(){n&&clearTimeout(n),n=setTimeout(function(){var b=i(a).width(),c=i(a).height();(o!==b||p!==c)&&i(m.allOverlays).each(function(a,d){d.trigger("windowResize",b,c)}),o=b,p=c},80)}),d.exports=m}),e.$=$,e["position/position"]=FNX.__clz__["fnx/cmp/position/position"],e["iframe-shim/iframe-shim"]=FNX.__clz__["fnx/cmp/iframe-shim/iframe-shim"],e["widget/widget"]=FNX.__clz__["fnx/cmp/widget/widget"],FNX.__clz__["fnx/cmp/overlay/overlay"]=c("overlay/overlay")}(a),function(a){var b=new FNX.__loader__,c=b.using,d=b.namespace,b=FNX.__clz__,e={};d("overlay/mask",function(b,c,d){var f=e.$,g=e["overlay/overlay"],h=f(a),i=(f(document),(a.navigator.userAgent||"").toLowerCase()),j=-1!==i.indexOf("msie 6"),k=g.extend({attrs:{width:j?0:"100%",height:j?0:"100%",className:"ui-mask",opacity:.2,backgroundColor:"#000",style:{position:j?"absolute":"fixed",top:0,left:0},align:{baseElement:j?"body":void 0}},show:function(){return j&&(this.set("width",h.width()),this.set("height",h.height())),k.superclass.show.call(this)},_onWindowResize:function(a,b){this.get("visible")&&j&&this.set("width",a).set("height",b),k.superclass._onWindowResize.call(this,a,b)},_onRenderBackgroundColor:function(a){this.element.css("backgroundColor",a)},_onRenderOpacity:function(a){this.element.css("opacity",a)}});d.exports=k}),e.$=$,e["overlay/overlay"]=FNX.__clz__["fnx/cmp/overlay/overlay"],FNX.__clz__["fnx/cmp/overlay/mask"]=c("overlay/mask")}(a),function(a){var b=new FNX.__loader__,c=b.using,d=b.namespace,b=FNX.__clz__,e={};d("popup/popup",function(b,c,d){function f(a,b){b=parseInt(b),a.attr("tabindex",isNaN(b)?-1:b)}function g(a,b){for(var c=-1,d=0;d<b.length;d++)if(b[d]===a){c=d;break}-1!==c&&b.splice(c,1)}var h=e.$,i=e["overlay/overlay"],j=e["overlay/mask"],k=null,l=i.extend({attrs:{hasMask:!1,maskBackgroundColor:"#000",maskBackgroundOpacity:.2,width:null,height:null,zIndex:999,effect:"none",align:{value:{selfXY:["50%","50%"],baseXY:["50%","42%"]},getter:function(b){return this.element.height()>.84*h(a).height()?{selfXY:["50%","0"],baseXY:["50%","0"]}:b}}},destroy:function(){return this.element.remove(),this._hideMask(),l.superclass.destroy.call(this)},setup:function(){k||(k=new j,f(k.element,0)),l.superclass.setup.call(this),this._setupMask(),this._setupFocus(),f(this.element)},_setupMask:function(){var a=this;k._dialogs=k._dialogs||[],this.after("show",function(){if(this.get("hasMask")){k.set("zIndex",a.get("zIndex")).set("backgroundColor",a.get("maskBackgroundColor")).set("backgroundOpacity",a.get("maskBackgroundOpacity")).show(),
k.element.insertBefore(a.element);for(var b,c=0;c<k._dialogs.length;c++)k._dialogs[c]===a&&(b=k._dialogs[c]);b?(g(b,k._dialogs),k._dialogs.push(b)):k._dialogs.push(a)}}),this.after("hide",this._hideMask)},_hideMask:function(){if(this.get("hasMask"))for(var a=k._dialogs?k._dialogs.length:0,b=0;a>b;b++)if(k._dialogs[b]===this)if(g(this,k._dialogs),0===k._dialogs.length)k.hide();else if(b===a-1){var c=k._dialogs[k._dialogs.length-1];k.set("zIndex",c.get("zIndex")),k.element.insertBefore(c.element)}},_setupFocus:function(){this.after("show",function(){this.element.focus()})},_onRenderVisible:function(a){a?"fade"===this.get("effect")?this.element.fadeIn(300):this.element.show():this.element.hide()}});d.exports=l}),e.$=$,e["overlay/overlay"]=FNX.__clz__["fnx/cmp/overlay/overlay"],e["overlay/mask"]=FNX.__clz__["fnx/cmp/overlay/mask"],FNX.__clz__["fnx/cmp/popup/popup"]=c("popup/popup")}(a),function(a){var b=new FNX.__loader__,c=b.using,d=b.namespace,b=FNX.__clz__,e={};d("popup/dialog.tpl",function(a,b,c){c.exports='<div class="{{classPrefix}} {{skin}}"> <a class="{{classPrefix}}-close" title="Close" href="javascript:;" data-role="close">×</a> <table class="{{classPrefix}}-grid"> {{if title}} <tr> <td class="{{classPrefix}}-header" data-role="header"> <div class="{{classPrefix}}-title" data-role="title">{{title}}</div> </td> </tr> {{/if}} <tr> <td class="{{classPrefix}}-body" data-role="body"> <div data-role="content" class="{{classPrefix}}-content"></div> </td> </tr> {{if buttons}} <tr> <td class="{{classPrefix}}-footer" data-role="footer"> <div class="{{classPrefix}}-operation" data-role="buttons"> {{each buttons as btn i}} <div class="{{classPrefix}}-button-item"> <a class="{{classPrefix}}-button {{btn.cls}}" data-role="{{btn.role}}" href="javascript:;">{{btn.text}}</a> </div> {{/each}} </div> </td> </tr> {{/if}} </table></div>'}),d("popup/dialog",function(b,c,d){function f(a){return"[object String]"===Object.prototype.toString.call(a)}function g(a){return h(a,"scrollHeight")}function h(a,b){var c=a[0].contentWindow.document;return c.body[b]&&c.documentElement[b]?Math.min(c.body[b],c.documentElement[b]):c.documentElement[b]?c.documentElement[b]:c.body[b]?c.body[b]:void 0}function i(a){var b=!1;try{a[0].contentWindow.document}catch(c){b=!0}return b}function j(a,b){return new p(k.extend(null,a,b)).after("hide",function(){this.destroy()}).show()}var k=e.$,l=e["popup/popup"],m=e["events/events"],n=e["templatable/templatable"],o={confirm:{role:"confirm",cls:"ui-dialog-button-orange",text:"确定"},cancel:{role:"cancel",cls:"ui-dialog-button-white",text:"取消"}},p=l.extend({Implements:n,attrs:{template:b("popup/dialog.tpl"),title:"默认标题",buttons:null,classPrefix:"ui-dialog",skin:"",content:{value:null,setter:function(a){var b=this;return f(a)?(this._type="html",a=a.replace(/^iframe:|^ajax:|^html|^dom:/,function(a){return b._type=a.substring(0,a.length-1),""})):this._type="dom",a}},closeTpl:"×",initialHeight:300,initialWidth:500,autoFit:!0,align:{value:{selfXY:["50%","50%"],baseXY:["50%","42%"]},getter:function(b){return this.element.height()>.84*k(a).height()?{selfXY:["50%","0"],baseXY:["50%","0"]}:b}}},parseElement:function(){this.set("model",{classPrefix:this.get("classPrefix"),skin:this.get("skin"),title:this.get("title"),buttons:this.get("buttons")}),p.superclass.parseElement.call(this),this.contentElement=this.$("[data-role=content]"),this.contentElement.css({height:"100%",zoom:1}),this.$("[data-role=close]").hide()},events:{"click [data-role=close]":function(a){a.preventDefault(),this.hide()},"click [data-role=confirm]":function(a){a.preventDefault(),this.trigger("confirm")},"click [data-role=cancel]":function(a){a.preventDefault(),this.trigger("cancel"),this.hide()}},destroy:function(){return this._removeIframe(),p.superclass.destroy.call(this)},setup:function(){p.superclass.setup.call(this),this._setupKeyEvents()},_onRenderContent:function(a){var b=this.contentElement.empty();this._removeIframe(),"ajax"==this._type||"iframe"==this._type?(!this.get("height")&&b.css("height",this.get("initialHeight")),!this.get("width")&&b.css("width",this.get("initialWidth")),"ajax"==this._type?this._ajaxHtml():this._showIframe()):"dom"==this._type?b.append(k(a)):b.html(a),this._setPosition()},_onRenderCloseTpl:function(a){""===a?this.$("[data-role=close]").html(a).hide():this.$("[data-role=close]").html(a).show()},_onRenderWidth:function(a){this.contentElement.css("width",a),this._setPosition()},_onRenderHeight:function(a){this.contentElement.css("height",a),this._setPosition()},_setupKeyEvents:function(){this.delegateEvents(k(document),"keyup.esc",function(a){27===a.keyCode&&this.get("visible")&&this.hide()})},_showIframe:function(){var a=this;this.iframe||this._createIframe(),this.iframe.attr({src:this.get("content"),name:"dialog-iframe"+(new Date).getTime()}),this.iframe.on("load",function(){a.get("visible")&&(a._isCrossDomainIframe=i(a.iframe),a.get("autoFit")&&!a._isCrossDomainIframe&&(!a.get("height")&&a.contentElement.height(g(a.iframe)),!a.get("width")&&a.contentElement.width(g(a.iframe))),a._setPosition(),a.trigger("complete"))})},_createIframe:function(){var a=this;this.iframe=k("<iframe>",{src:"javascript:'';",scrolling:"no",frameborder:"no",allowTransparency:"true",css:{border:"none",width:"100%",display:"block",height:"100%",overflow:"hidden"}}).appendTo(this.contentElement),m.mixTo(this.iframe[0]),this.iframe[0].on("close",function(){a.hide()})},_removeIframe:function(){this.iframe&&this.iframe.attr("src","about:blank").remove(),this.iframe=null},_setArea:function(a,b){b&&this.contentElement.css("height",b),a&&this.contentElement.css("width",a),this.element[0].className=this.element[0].className,this._setPosition()},_ajaxHtml:function(){var a=this;this.contentElement.load(this.get("content"),function(){a.contentElement.css({height:"",width:""}),a._setPosition(),a.trigger("complete")})},_onChangeTitle:function(a){this.$("[data-role=title]").html(a)},Statics:{buttons:o}});p.alert=function(a,b,c,d){var e={content:b,title:a,closeTpl:"",buttons:[o.confirm],onConfirm:function(){c&&c(!0),this.hide()}};return j(e,d)},p.confirm=function(a,b,c,d){var e={content:b,title:a,closeTpl:"",buttons:[o.confirm,o.cancel],onConfirm:function(){c&&c(!0),this.hide()},onCancel:function(){c&&c(!1),this.hide()}};return j(e,d)},p.show=function(a,b,c){var d={content:a,title:""};return j(d,c)},d.exports=p}),e.$=$,e["popup/popup"]=FNX.__clz__["fnx/cmp/popup/popup"],e["events/events"]=FNX.__clz__["fnx/cmp/events/events"],e["templatable/templatable"]=FNX.__clz__["fnx/cmp/templatable/templatable"],FNX.__clz__["fnx/cmp/popup/dialog"]=c("popup/dialog")}(a),function(a){var b=new FNX.__loader__,c=b.using,d=b.namespace,b=FNX.__clz__;d("messager/messager",function(b,c,d){d.exports=function(){function b(a,b){var c="";if(arguments.length<2?c="target error - target and name are both required":"object"!=typeof a?c="target error - target itself must be window object":"string"!=typeof b&&(c="target error - target name must be string type"),c)throw new Error(c);this.target=a,this.name=b}function c(a,b){this.targets={},this.name=a,this.listenFunc=[],d=b||d,this.initListen()}var d="fnx-messenger",e="postMessage"in a;return e?b.prototype.send=function(a){this.target.postMessage(d+a,"*")}:b.prototype.send=function(b){var c=a.navigator[d+this.name];if("function"!=typeof c)throw new Error("target callback function is not defined");c(d+b,a)},c.prototype.addTarget=function(a,c){var d=new b(a,c);this.targets[c]=d},c.prototype.initListen=function(){var b=this,c=function(a){"object"==typeof a&&a.data&&(a=a.data),a=a.slice(d.length);for(var c=0;c<b.listenFunc.length;c++)b.listenFunc[c](a)};e?"addEventListener"in document?a.addEventListener("message",c,!1):"attachEvent"in document&&a.attachEvent("onmessage",c):a.navigator[d+this.name]=c},c.prototype.listen=function(a){this.listenFunc.push(a)},c.prototype.clear=function(){this.listenFunc=[]},c.prototype.send=function(a){var b,c=this.targets;for(b in c)c.hasOwnProperty(b)&&c[b].send(a)},c}()}),FNX.__clz__["fnx/cmp/messager/messager"]=c("messager/messager")}(a),function(a){var b=new FNX.__loader__,c=b.using,d=b.namespace,b=FNX.__clz__,e={};d("switchable/basic/switchable-basic",function(a,b,c){function d(a,b,c,d){for(var e=g("<ul>"),f=0;a>f;f++){var h=f===b?c:"";g("<li>",{"class":h,html:"<span>"+(f+1)+"</span>"}).appendTo(e)}return d?e.children():e}function f(a){return{UI_SWITCHABLE:a||"",NAV_CLASS:a?a+"-nav":"",CONTENT_CLASS:a?a+"-content":"",TRIGGER_CLASS:a?a+"-trigger":"",PANEL_CLASS:a?a+"-panel":""}}var g=e.$,h=e["widget/widget"],i=h.extend({attrs:{triggers:{value:null,getter:function(a){return g(a)}},panels:{value:null,getter:function(a){return g(a)}},classPrefix:"ui-switchable",hasTriggers:!0,triggerType:"hover",delay:100,activeIndex:{value:0,setter:function(a){return parseInt(a)||0}},step:1,length:{readOnly:!0,getter:function(){var a=this.get("panels");return a.length?Math.ceil(a.length/this.get("step")):0}},viewSize:null,activeTriggerClass:{getter:function(a){return a?a:this.get("classPrefix")+"-active"}}},setup:function(){i.superclass.setup.call(this),this._initConstClass(),this._initElement();var a=this._getDatasetRole();this._initPanels(a),this._initTriggers(a),this._bindTriggers(),this._initEffect()},_initConstClass:function(){this.CONST=f(this.get("classPrefix"))},_initElement:function(){this.element.addClass(this.CONST.UI_SWITCHABLE)},_parseDatasetRole:function(a){for(var b=this,c={},d=0;d<a.length;d++){var e=a[d],f=b.$("[data-role="+e+"]");f.length&&(c[e]=f)}return c},_getDatasetRole:function(){return this._parseDatasetRole(["trigger","panel","nav","content"])},_initPanels:function(a){var b=this.get("panels");b.length>0||(a.panel?this.set("panels",b=a.panel):a.content&&(this.set("panels",b=a.content.find("> *")),this.content=a.content)),this.content||(this.content=b.parent()),this.content.addClass(this.CONST.CONTENT_CLASS)},_initTriggers:function(a){var b=this.get("triggers");b.length>0||(a.trigger?this.set("triggers",b=a.trigger):a.nav?(b=a.nav.find("> *"),0===b.length&&(b=d(this.get("length"),this.get("activeIndex"),this.get("activeTriggerClass"),!0).appendTo(a.nav)),this.set("triggers",b),this.nav=a.nav):this.get("hasTriggers")&&(this.nav=d(this.get("length"),this.get("activeIndex"),this.get("activeTriggerClass")).appendTo(this.element),this.set("triggers",b=this.nav.children()))),!this.nav&&b.length&&(this.nav=b.parent()),this.nav&&this.nav.addClass(this.CONST.NAV_CLASS),b.addClass(this.CONST.TRIGGER_CLASS).each(function(a,b){g(b).data("value",a)})},_bindTriggers:function(){var a=this,b=this.get("triggers"),c=this.get("triggerType").switchTimer=null;"click"===c?b.click(function(){a.switchTo(g(this).data("value"))}):b.hover(function(){var b=this;switchTimer=setTimeout(function(){a.switchTo(g(b).data("value"))},a.get("delay"))},function(){clearTimeout(switchTimer)})},_initEffect:function(){this.get("panels").hide()},_onRenderActiveIndex:function(a,b){this._switchTo(a,b)},_switchTo:function(a,b){this.trigger("switch",a,b),this._switchTrigger(a,b),this._switchPanel(a,b)},_switchTrigger:function(a,b){var c=this.get("triggers");c.length<1||(c.eq(b).removeClass(this.get("activeTriggerClass")),c.eq(a).addClass(this.get("activeTriggerClass")))},_switchPanel:function(a,b){var c=this._getPanelInfo(a,b);c.fromPanels.hide(),c.toPanels.show()},_getPanelInfo:function(a,b){var c,d,e=this.get("panels").get(),f=this.get("step");return b>-1&&(c=e.slice(b*f,(b+1)*f)),d=e.slice(a*f,(a+1)*f),{toIndex:a,fromIndex:b,toPanels:g(d),fromPanels:g(c)}},switchTo:function(a){this.set("activeIndex",a)},prev:function(){var a=this.get("activeIndex"),b=(a-1+this.get("length"))%this.get("length");this.switchTo(b)},next:function(){var a=this.get("activeIndex"),b=(a+1)%this.get("length");this.switchTo(b)}});c.exports=i}),d("switchable/basic/effects",function(a,b,c){function d(a,b,c){var d={};if(d[b?"left":"top"]=-(c*a.toIndex*this.get("step"))+"px",a.fromIndex>-1){var e=this;this.anim=this.content.animate(d,this.get("duration"),this.get("easing"),function(){e.anim=null,e.trigger("switched",a.toIndex,a.fromIndex)})}else this.content.css(d),this.trigger("switched",a.toIndex,a.fromIndex)}function f(a,b,c){var d=b?"left":"top",e=this.get("step"),f=a.toIndex,h=a.fromIndex,i=this.get("length"),j=(this.get("panels"),{});if(j[d]=-(c*f*e)+"px",h>-1){var k=this,l=0===h&&f===i-1&&this._forcePrev,m=h===i-1&&0===f&&this._forceNext;l||m?g.call(this,a,m,d,c):this.anim=this.content.animate(j,this.get("duration"),this.get("easing"),function(){k.anim=null,k.trigger("switched",f,h)})}else this.content.css(j),this.trigger("switched",f,h)}function g(a,b,c,d){var e=this,f=a.toPanels,g=this.get("step"),h=this.get("size"),i=this.get("panels"),j=i.length,k={},l=0,m=h==g&&j%g==0,n=d*j;if(b)m&&f.css("position","relative").css(c,n+"px"),k[c]=-n+"px",l="0px";else{var o=(j-(j%g||g))*d;m?(f.css("position","relative").css(c,-n+"px"),k[c]=g*d+"px",l=-o+"px"):(this.content.css(c,-n+"px"),k[c]=-o+"px")}this.anim=this.content.animate(k,this.get("duration"),this.get("easing"),function(){m&&f.css(c,"0px"),l&&e.content.css(c,l),e.anim=null,e.trigger("switched",a.toIndex,a.fromIndex)})}var h=(e.$,e["easing/easing"],"scrollx"),i="scrolly",j=c.exports={};j.none={initEffect:function(){var a=this.get("panels");return a.length>this.get("step")?void a.hide():!1},switchPanel:function(a){a.fromPanels.hide(),a.toPanels.show()}},j.fade={initEffect:function(){var a=this.get("panels"),b=this.get("step");return b>1||a.length<=b?!1:void a.css({position:"absolute",opacity:0,zIndex:1}).show()},switchPanel:function(a){var b=a.fromPanels.eq(0),c=a.toPanels.eq(0),d=this;this.anim&&this.anim.stop(!1,!0),c.css("opacity",1),c.show(),a.fromIndex>-1?this.anim=b.animate({opacity:0},this.get("duration"),this.get("easing"),function(){d.anim=null,c.css("zIndex",9),b.css("zIndex",1),b.css("display","none"),d.trigger("switched",a.toIndex,a.fromIndex)}):(c.css("zIndex",9),this.trigger("switched",a.toIndex,a.fromIndex))}},j.__scroll={initPanels:function(){this.before("next",function(){this._forceNext=!0}),this.before("prev",function(){this._forcePrev=!0}),this.after("_switchTo",function(){this._forceNext=this._forcePrev=void 0});var a=this.get("panels"),b=this.get("step"),c=this.get("size"),d=this.get("circular"),e=a.length;c>=e||b>=e||!d||b==c&&e%b==0||(this._clonePanels=a.slice(0,c+1).clone(!0).addClass(this.get("classPrefix")+"-clone"),a.last().after(this._clonePanels))},initEffect:function(){var a=this.get("panels"),b=this.get("step"),c=this.get("size"),d=this.get("effect"),e=this.content,f=a.eq(0);if(a.length<=c||a.length<=b)return!1;e.css("position","relative"),"static"===e.parent().css("position")&&e.parent().css("position","relative"),d===h&&(a.css("float","left"),this._clonePanels&&this._clonePanels.css("float","left"),e.width("35791197px"));var g=this.get("viewSize");if(g||(g=[],g[0]=f.outerWidth(),g[1]=f.outerHeight(),this.set("viewSize",g)),!g)throw new Error("Please specify viewSize manually")},switchPanel:function(a){var b=this.get("effect")===h,c=this.get("viewSize")[b?0:1],e=null;this.anim&&this.anim.stop(!1,!0),e=this.get("circular")?f:d,e.call(this,a,b,c)}},j[h]=j[i]=j.__scroll}),d("switchable/switchable",function(a,b,c){var d=e.$,f=a("switchable/basic/switchable-basic"),g=a("switchable/basic/effects"),h=f.extend({attrs:{autoplay:!1,interval:5e3,circular:!1,circularMode:"carousel",effect:{value:"none",setter:function(a){return g[a]?a.toLowerCase():"none"}},easing:"linear",duration:500,viewSize:null,size:1,step:{value:1,getter:function(a){var b=this.get("size");return a>b?b:a}}},events:{mouseenter:function(){this.get("autoplay")&&(this.stop(),this._mouseEnterStop=!0)},mouseleave:function(){this._mouseEnterStop&&(this._mouseEnterStop=!1,this.start())}},_initPanels:function(a){h.superclass._initPanels.call(this,a);var b=this._effectFunction("initPanels").call(this,this.get("panels"));b&&this.set("panels",b)},_initEffect:function(){this._effectFunction("initEffect").call(this)===!1&&(this._ineffective=!0)},_effectFunction:function(a){var b=g[this.get("effect")];return b&&b[a]?b[a]:d.noop},_switchPanel:function(a,b){if(!this.ineffective){var c=this._getPanelInfo(a,b);this._effectFunction("switchPanel").call(this,c)}},_onRenderAutoplay:function(a){function b(){c._autoplayTimer&&(clearInterval(c._autoplayTimer),c._autoplayTimer=null)}var c=this,d=this.get("interval");a?(b(),c._autoplayTimer=setInterval(function(){c._autoplayTimer&&c.next()},d)):b()},start:function(){this.set("autoplay",!0)},stop:function(){this.set("autoplay",!1)},destroy:function(){this._effectFunction("destroy").call(this)}});c.exports=h}),e.$=$,e["widget/widget"]=FNX.__clz__["fnx/cmp/widget/widget"],e["easing/easing"]=FNX.__clz__["fnx/cmp/easing/easing"],FNX.__clz__["fnx/cmp/switchable/switchable"]=c("switchable/switchable")}(a),function(a){var b=new FNX.__loader__,c=b.using,d=b.namespace,b=FNX.__clz__,e={};d("switchable/slide",function(a,b,c){var d=e["switchable/switchable"],f=d.extend({attrs:{autoplay:!0,circular:!0},setup:function(){f.superclass.setup.call(this),this.render()}});c.exports=f}),e["switchable/switchable"]=FNX.__clz__["fnx/cmp/switchable/switchable"],FNX.__clz__["fnx/cmp/switchable/slide"]=c("switchable/slide")}(a),function(a){var b=new FNX.__loader__,c=b.using,d=b.namespace,b=FNX.__clz__,e={};d("switchable/carousel",function(a,b,c){function d(a){return{PREV_BTN_CLASS:a?a+"-prev-btn":"",NEXT_BTN_CLASS:a?a+"-next-btn":""}}var f=e["switchable/switchable"],g=e.$,h=f.extend({attrs:{circular:!0,autoplay:!1,prevBtn:{getter:function(a){return g(a).eq(0)}},nextBtn:{getter:function(a){return g(a).eq(0)}},disabledBtnClass:{getter:function(a){return a?a:this.get("classPrefix")+"-disabled-btn"}}},setup:function(){h.superclass.setup.call(this),this.render()},_initConstClass:function(){h.superclass._initConstClass.call(this),g.extend(this.CONST,d(this.get("classPrefix")))},_initTriggers:function(a){h.superclass._initTriggers.call(this,a);var b=this.get("prevBtn"),c=this.get("nextBtn");!b[0]&&a.prev&&(b=a.prev,this.set("prevBtn",b)),!c[0]&&a.next&&(c=a.next,this.set("nextBtn",c)),b.addClass(this.CONST.PREV_BTN_CLASS),c.addClass(this.CONST.NEXT_BTN_CLASS)},_bindTriggers:function(){h.superclass._bindTriggers.call(this);var a=this,b=this.get("circular");this.get("prevBtn").click(function(c){c.preventDefault(),(b||a.get("activeIndex")>0)&&a.prev()}),this.get("nextBtn").click(function(c){c.preventDefault();var d=a.get("length")-1;(b||a.get("activeIndex")<d)&&a.next()}),b||this.on("switch",function(b){a._updateButtonStatus(b)})},_getDatasetRole:function(){var a=h.superclass._getDatasetRole.call(this),b=h.superclass._parseDatasetRole.call(this,["next","prev"]);return g.extend(a,b),a},_updateButtonStatus:function(a){var b=this.get("prevBtn"),c=this.get("nextBtn"),d=this.get("disabledBtnClass");b.removeClass(d),c.removeClass(d),0===a?b.addClass(d):a===this.get("length")-1&&c.addClass(d)}});c.exports=h}),e["switchable/switchable"]=FNX.__clz__["fnx/cmp/switchable/switchable"],e.$=$,FNX.__clz__["fnx/cmp/switchable/carousel"]=c("switchable/carousel")}(a),function(a){var b=new FNX.__loader__,c=b.using,d=b.namespace,b=FNX.__clz__;d("calendar/dateparser-i18n",function(a,b,c){function d(a,b){for(var c=[],d=0,e=a.length;e>d;d++)c.push(a[d].substr(0,b));return c}var e=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],f=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"];b["zh-cn"]=b["default"]={dayNames:e,dayNamesShort:e,monthNames:f,monthNamesShort:f,amPm:["上午","下午"],DoFn:function(a){return a}},e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],f=["January","February","March","April","May","June","July","August","September","October","November","December"],b["en-us"]={dayNames:e,dayNamesShort:d(e,3),monthNames:f,monthNamesShort:d(f,3),amPm:["am","pm"],DoFn:function(){return D+["th","st","nd","rd"][D%10>3?0:(D-D%10!==10)*D%10]}}}),d("calendar/dateparser",function(a,b,c){function d(a){a=a||{};var b=a.lang;(e(b)||!b)&&(b=h[a.lang]||h["default"]),this.i18n=b;var c=this.parseFlags={D:[k,function(a,b){a.day=b}],M:[k,function(a,b){a.month=b-1}],YY:[k,function(a,b){var c=new Date,d=+(""+c.getFullYear()).substr(0,2);a.year=""+(b>68?d-1:d)+b}],h:[k,function(a,b){a.hour=b}],m:[k,function(a,b){a.minute=b}],s:[k,function(a,b){a.second=b}],YYYY:[m,function(a,b){a.year=b}],S:[/\d/,function(a,b){a.millisecond=100*b}],SS:[/\d{2}/,function(a,b){a.millisecond=10*b}],SSS:[l,function(a,b){a.millisecond=b}],d:[k,o],ddd:[n,o],MMM:[n,f(b,"monthNamesShort")],MMMM:[n,f(b,"monthNames")],a:[n,function(a,b){amPm.indexOf(b.toLowerCase())&&(a.isPm=!0)}],ZZ:[/[\+\-]\d\d:?\d\d/,function(a,b){var c,d=(b+"").match(/([\+\-]|\d\d)/gi);d&&(c=+(60*d[1])+parseInt(d[2],10),a.timezoneOffset="+"===d[0]?c:-c)}]};c.dd=c.d,c.dddd=c.ddd,c.Do=c.DD=c.D,c.mm=c.m,c.hh=c.H=c.HH=c.h,c.MM=c.M,c.ss=c.s,c.A=c.a}function e(a){return"[object String]"===Object.prototype.toString.call(a)}function f(a,b){return function(c,d){var e=a[b].indexOf(d.charAt(0).toUpperCase()+d.substr(1).toLowerCase());~e&&(c.month=e)}}function g(a,b){for(a=String(a),b=b||2;a.length<b;)a="0"+a;return a}var h=a("calendar/dateparser-i18n"),i="YYYY-MM-DD HH:mm:ss",j=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,k=/\d\d?/,l=/\d{3}/,m=/\d{4}/,n=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,o=function(){};d.prototype.format=function(a,b){var c=this.i18n;if(e(a)&&(b=a),b=b||i,a=a||new Date,isNaN(a))throw new SyntaxError("invalid date");var d=a.getDate(),f=a.getDay(),h=a.getMonth(),k=a.getFullYear(),l=a.getHours(),m=a.getMinutes(),n=a.getSeconds(),o=a.getMilliseconds(),p=a.getTimezoneOffset(),q={D:d,DD:g(d),Do:c.DoFn(d),d:f,dd:g(f),ddd:c.dayNamesShort[f],dddd:c.dayNames[f],M:h+1,MM:g(h+1),MMM:c.monthNamesShort[h],MMMM:c.monthNames[h],YY:String(k).slice(2),YYYY:k,h:l%12||12,hh:g(l%12||12),H:l,HH:g(l),m:m,mm:g(m),s:n,ss:g(n),S:Math.round(o/100),SS:g(Math.round(o/10),2),SSS:g(o,3),a:12>l?c.amPm[0]:c.amPm[1],A:12>l?c.amPm[0].toUpperCase():c.amPm[1].toUpperCase(),ZZ:(p>0?"-":"+")+g(100*Math.floor(Math.abs(p)/60)+Math.abs(p)%60,4)};return b.replace(j,function(a){return a in q?q[a]:a.slice(1,a.length-1)})},d.prototype.parse=function(a,b){var c,d,e,f,g,h,k,l=this.parseFlags;if(!b)return c=Date.parse(a.replace(/\-/g,"/")),isNaN(c)?!1:new Date(c);if(b=b||i,d=!0,e={},b.replace(j,function(b){return l[b]&&(h=l[b],k=a.search(h[0]),~k?a.replace(h[0],function(b){return h[1](e,b),a=a.substr(k+b.length),b}):d=!1),l[b]?"":b.slice(1,b.length-1)}),!d)throw new SyntaxError("invalid mask");return f=new Date,e.isPm&&e.hour&&(e.hour=+e.hour+12),e.timezoneOffset?(e.minute=+(e.minute||0)-+e.timezoneOffset,g=new Date(Date.UTC(e.year||f.getFullYear(),e.month||0,e.day||1,e.hour||0,e.minute||0,e.second||0,e.millisecond||0))):g=new Date(e.year||f.getFullYear(),e.month||0,e.day||1,e.hour||0,e.minute||0,e.second||0,e.millisecond||0),g},c.exports=d}),FNX.__clz__["fnx/cmp/calendar/dateparser"]=c("calendar/dateparser")}(a),function(a){var b=new FNX.__loader__,c=b.using,d=b.namespace,b=FNX.__clz__,e={};d("calendar/calendar-base",function(a,b,c){function d(a){return"[object String]"===k.call(a)}function f(a){return"[object Array]"===k.call(a)}var g=(e.$,e["widget/widget"]),h=e["templatable/templatable"],i=new Date,j=g.extend({Implements:h,attrs:{classPrefix:"ui-calendar",skin:"",disableClass:"disabled-element",focusClass:"focused-element",process:null,template:"",selected:{value:null,getter:function(a){return a=this.parse(a),this.inRange(a)?a:null}},model:{getter:function(){return this._createModel()}},focus:{value:null,setter:function(a){return this.parse(a)}},range:{value:null,setter:function(a){if(!a)return null;if(d(a))return[this.parse(a),null];if(f(a)){var b=(0===a[0]||a[0])&&this.parse(a[0]),c=(0===a[1]||a[1])&&this.parse(a[1]);return[b,c]}return a}}},parse:function(a){return a},inRange:function(a){var b=this.get("range");if(!b)return!0;if(f(b)){var c=b[0],d=b[1],e=!0;return(c||0===c)&&(e=e&&a>=c),(d||0===d)&&(e=e&&d>=a),e}return isFunction(b)?b(a):!0},_createModel:function(){return{classPrefix:this.get("classPrefix"),disableClass:this.get("disableClass"),focusClass:this.get("focusClass"),skin:this.get("skin")}},Statics:{currentDate:i}});c.exports=j;var k=Object.prototype.toString}),d("calendar/column/column-base",function(a,b,c){var d=e.$,f=a("calendar/calendar-base"),g=f.extend({show:function(){return this.render(),this.element.show(),this},hide:function(){return this.element.hide(),this},refresh:function(){return this.element.html(d(this.compile()).html()),this}});c.exports=g}),d("calendar/column/column-year-month.tpl",function(a,b,c){c.exports='<table class="{{classPrefix}}-{{type}} {{skin}}" data-role="{{type}}-column"> <tr class="{{classPrefix}}-{{type}}-column"> {{each items as item index}} {{if index%3 == 0 && index > 0 && index < items.length}} </tr><tr class="ui-calendar-{{type}}-column"> {{/if}} <td data-role="{{item.role}}" data-value="{{item.value}}" class=" {{if item.disable}} {{disableClass}} {{else}} {{if selected == item.value}} {{focusClass}}{{/if}} {{/if}} ">{{item.label}}</td> {{/each}} </tr></table>'}),d("calendar/column/column-year",function(a,b,c){function d(a,b){return b?(a.type="year",b(a)):a}var f=e.$,g=a("calendar/column/column-base"),h=g.currentDate,i=g.extend({attrs:{selected:{value:h.getFullYear()},focus:{getter:function(a){return a||0===a?a:(a=this.get("selected"),0===a||a?a:h.getFullYear())}},template:a("calendar/column/column-year-month.tpl"),model:{getter:function(){return this._createModel()}}},events:{"click [data-role=year]":function(a){var b=f(a.target).data("value");this.select(b)},"click [data-role=prev],[data-role=next]":function(a){var b=f(a.target).data("value");this.set("focus",b)}},setup:function(){i.superclass.setup.call(this),this.on("change:range change:focus",function(){this.refresh()})},parse:function(a){return a=parseInt(a),isNaN(a)?null:a},select:function(a){if(a=this.parse(a),null===a)return this.trigger("selectDisable",a),this;var b=this.$('[data-role=year][data-value="'+a+'"]'),c=this.get("focusClass");return this.inRange(a)?(this.set("selected",a),b.length?(this.$("."+c).removeClass(c),b.addClass(c)):this.set("focus",a),this.trigger("select",a)):this.trigger("selectDisable",a),this},_createModel:function(){for(var a=this.get("focus"),b=this.get("selected"),c=this.get("process"),e=[d({value:a-10,label:". . .",disable:!1,role:"prev"},c)],g=a-6;a+4>g;g++)e.push(d({value:g,label:g,disable:!this.inRange(g),role:"year"},c));e.push(d({value:a+10,label:". . .",disable:!1,role:"next"},c));var h=i.superclass._createModel.call(this);return f.extend(h,{items:e,type:"year"}),b!=e[0].value&&b!=e[e.length-1].value&&(h.selected=b),h}});c.exports=i}),d("calendar/calendar-i18n",function(a,b,c){b["zh-cn"]=b["default"]={months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dates:["日","一","二","三","四","五","六"]},b["en-us"]={months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dates:["S","M","T","W","T","F","S"]}}),d("calendar/column/column-month",function(a,b,c){function d(a,b){return b?(a.type="month",b(a)):a}var f=e.$,g=a("calendar/column/column-base"),h=a("calendar/calendar-i18n"),i=g.currentDate,j=g.extend({attrs:{selected:{value:i.getMonth()},focus:{getter:function(a){return a||0===a?a:(a=this.get("selected"),0===a||a?a:i.getMonth())}},template:a("calendar/column/column-year-month.tpl"),lang:{value:h["default"].months,setter:function(a){return isString(a)?h[a]&&h[a].months||h["default"].months:a}}},events:{"click [data-role=month]":function(a){var b=f(a.target).data("value");this.select(b)}},setup:function(){j.superclass.setup.call(this),this.on("change:range change:lang",function(){this.refresh()})},parse:function(a){return a=parseInt(a),isNaN(a)||0>a||a>11?null:a},select:function(a){if(a=this.parse(a),null===a)return this.trigger("selectDisable",a),this;var b=this.$('[data-role=month][data-value="'+a+'"]'),c=this.get("focusClass");return this.inRange(a)?(this.$("."+c).removeClass(c),b.addClass(c),this.set("selected",a),this.trigger("select",a)):this.trigger("selectDisable",a),this},_createModel:function(){for(var a=(this.get("focus"),this.get("selected")),b=this.get("process"),c=this.get("lang"),e=[],g=0;12>g;g++)e.push(d({value:g,label:c[g]||g,disable:!this.inRange(g),role:"month"},b));var h=j.superclass._createModel.call(this);return f.extend(h,{items:e,selected:a,type:"month"}),h}});c.exports=j}),d("calendar/column/column-date.tpl",function(a,b,c){c.exports='<table class="{{classPrefix}}-date {{skin}}" data-role="date-column"> <tr class="{{classPrefix}}-day-column"> {{each day as item index}} <th class="{{classPrefix}}-day {{classPrefix}}-day-{{item.value}}" data-role="{{item.role}}" data-value="{{item.value}}">{{item.label}}</th> {{/each}} </tr> <tr class="{{classPrefix}}-date-column"> {{each date as item index}} {{if index%7 == 0 && index > 0 && index < date.length}} </tr><tr class="{{classPrefix}}-date-column"> {{/if}} <td data-role="{{item.role}}" data-value="{{item.value}}" class=" {{item.className}} {{classPrefix}}-day-{{item.day}} {{if item.disable}} {{disableClass}} {{else}} {{if selected == item.value}} {{focusClass}}{{/if}} {{/if}} ">{{item.label}}</td> {{/each}} </tr></table>'}),d("calendar/column/column-date",function(a,b,c){function d(a){return"[object String]"===o.call(a)}function f(a){return new Date(a.getTime())}function g(a){return a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()}function h(a){var b=parseInt,a=a.split("-");return new Date(b(a[0]),b(a[1])-1,b(a[2]))}function i(a){return d(a)?h(a):new Date(a)}var j=e.$,k=a("calendar/column/column-base"),l=a("calendar/calendar-i18n"),m=k.currentDate,n=k.extend({attrs:{previousMonthClass:"previous-month",currentMonthClass:"current-month",nextMonthClass:"next-month",startDay:0,selected:{value:m,getter:function(a){return f(a)}},focus:{getter:function(a){return a=a||this.get("selected")||m,f(a)}},template:a("calendar/column/column-date.tpl"),lang:{value:l["default"].dates,setter:function(a){return d(a)?l[a]&&l[a].dates||l["default"].dates:a}}},events:{"click [data-role=date]":function(a){var b=j(a.target).data("value"),c=h(b),d=this.get("focus");d.setDate(1),d.setMonth(c.getMonth()),d.setFullYear(c.getFullYear()),d.setDate(c.getDate()),this.select(d)}},setup:function(){n.superclass.setup.call(this),this.on("change:range change:focus change:lang",function(){this.refresh()})},parse:function(a){var b;parseInt;return b=d(a)?h(a):new Date(a),isNaN(b.getTime())?null:b},select:function(a){var b=i(a);if(null===b)return this.trigger("selectDisable",b),this;var c=this.$('[data-role=date][data-value="'+g(b)+'"]'),d=this.get("previousMonthClass"),e=this.get("nextMonthClass"),f=this.get("focusClass");return this.inRange(b)?(this.set("selected",b),!c.length||c.hasClass(d)||c.hasClass(e)?this.set("focus",b):(this.$("."+f).removeClass(f),c.addClass(f)),this.trigger("select",b)):this.trigger("selectDisable",b),this},_createModel:function(){var a=this,b=this.get("focus"),c=this.get("selected"),d=this.get("process"),e=this.get("startDay"),h=this.get("lang"),i=this.get("previousMonthClass"),k=this.get("currentMonthClass"),l=this.get("nextMonthClass"),m=[],o=[],p=0,q=0,r=null,s=null,t=0;for(t=e;7>t;t++)o.push({label:h[t]||t,value:t,role:"day"});for(t=0;e>t;t++)o.push({label:h[t]||t,value:t,role:"day"});var u=function(b,c){var e={value:g(b),label:b.getDate(),day:b.getDay(),className:c,disable:!a.inRange(b),role:"date"};d&&(e.type="date",e=d(e)),m.push(e)},v=f(b);for(v.setDate(1),r=f(v),p=r.getDay()-e,0>=p&&(p+=7),t=p-1;t>=0;t--)s=f(r),s.setDate(-t),u(s,i);for(r=f(v),r.setMonth(r.getMonth()+1),r.setDate(0),q=r.getDate(),t=1;q>=t;t++)s=f(r),s.setDate(t),u(s,k);for(p=42-m.length,r=f(v),r.setMonth(r.getMonth()+1),t=1;p>=t;t++)s=f(r),s.setDate(t),u(s,l);var w=n.superclass._createModel.call(this);return j.extend(w,{day:o,date:m,selected:g(c)}),w}});c.exports=n;var o=Object.prototype.toString}),d("calendar/calendar.tpl",function(a,b,c){
c.exports='<div class="{{classPrefix}} {{skin}}"> <div class="{{classPrefix}}-pannel" data-role="pannel"> <span class="{{classPrefix}}-control" data-role="prev-year">&lt;&lt;</span> <span class="{{classPrefix}}-control" data-role="prev-month">&lt;</span> <span class="{{classPrefix}}-control month" data-role="current-month"></span> <span class="{{classPrefix}}-control year" data-role="current-year"></span> <span class="{{classPrefix}}-control" data-role="next-month">&gt;</span> <span class="{{classPrefix}}-control" data-role="next-year">&gt;&gt;</span> </div> <div class="{{classPrefix}}-container" data-role="container"></div></div>'}),d("calendar/calendar",function(a,b,c){function d(a){return"[object String]"===o.call(a)}function f(a){return new Date(a.getTime())}var g=e.$,h=a("calendar/calendar-base"),i=a("calendar/column/column-year"),j=a("calendar/column/column-month"),k=a("calendar/column/column-date"),l=a("calendar/calendar-i18n"),m=h.currentDate,n=h.extend({attrs:{template:a("calendar/calendar.tpl"),mode:"dates",startDay:0,selected:{value:m,getter:function(a){return f(a)}},focus:{getter:function(a){return a=a||this.get("selected")||m,f(a)}},lang:{value:l["default"],setter:function(a){return d(a)?l[a]||l["default"]:a}}},events:{"click [data-role=current-month]":function(a){this.renderContainer("months"===this.get("mode")?"dates":"months")},"click [data-role=current-year]":function(a){this.renderContainer("years"===this.get("mode")?"dates":"years")},"click [data-role=prev-year]":function(a){var b=this.get("focus");b.setDate(1),b.setFullYear(b.getFullYear()-1),this.months.select(b.getMonth()),this.years.select(b.getYear()),this.set("focus",b),this.renderPannel()},"click [data-role=next-year]":function(a){var b=this.get("focus");b.setDate(1),b.setFullYear(b.getFullYear()+1),this.months.select(b.getMonth()),this.years.select(b.getYear()),this.set("focus",b),this.renderPannel()},"click [data-role=prev-month]":function(a){var b=this.get("focus");b.setDate(1),b.setMonth(b.getMonth()-1),this.months.select(b.getMonth()),this.years.select(b.getYear()),this.set("focus",b),this.renderPannel()},"click [data-role=next-month]":function(a){var b=this.get("focus");b.setDate(1),b.setMonth(b.getMonth()+1),this.months.select(b.getMonth()),this.years.select(b.getYear()),this.set("focus",b),this.renderPannel()}},setup:function(){n.superclass.setup.call(this),this.set("selected",this.get("focus")),this.renderPannel(),this._createColumns(),this._bindEvents(),this.renderContainer("dates")},parse:function(a){var b,c=parseInt;return d(a)?(b=a.split("-"),b=new Date(c(b[0]),c(b[1])-1,c(b[2]))):b=new Date(a),isNaN(b.getTime())?null:b},select:function(a){return this.dates.select(a),this},renderContainer:function(a,b){return this.set("mode",a),b=b||this.get("focus"),this.dates.hide(),this.months.hide(),this.years.hide(),this.set("focus",b),"dates"===a?this.dates.element.show():"months"===a?this.months.element.show():"years"===a&&this.years.element.show(),this},renderPannel:function(){var a=this.get("focus"),b=this.element.find("[data-role=current-month]"),c=this.element.find("[data-role=current-year]"),d=this.get("lang");b.text(d.months[a.getMonth()]),c.text(a.getFullYear())},_createColumns:function(){var a={process:this.get("process"),classPrefix:this.get("classPrefix"),disableClass:this.get("disableClass"),focusClass:this.get("focusClass")},b=this.get("focus"),c=this.get("range");this.dates=new k(g.extend({},a,{focus:b,range:c})),this.months=new j(g.extend({},a,{focus:b.getMonth()})),this.years=new i(g.extend({},a,{focus:b.getFullYear()}));var d=this.element.find("[data-role=container]");d.append(this.dates.element),d.append(this.months.element),d.append(this.years.element)},_bindEvents:function(){var a=this;this.on("change:focus",function(b){a.dates.set("focus",b),a.months.set("focus",b.getMonth()),a.years.set("focus",b.getFullYear())}),this.on("change:range",function(b){a.dates.set("range",convertRange("dates",b)),a.months.set("range",convertRange("months",b)),a.years.set("range",convertRange("years",b))}),this.dates.on("select",function(b){a.set("focus",b),a.renderPannel(),a.months.select(b.getMonth()),a.years.select(b.getFullYear()),a.set("selected",b),a.trigger("select",b)}),this.months.on("select",function(b){var c=a.get("focus");c.getMonth()!=b&&(c.setDate(1),c.setMonth(b),a.set("focus",c),a.renderPannel(),a.renderContainer("dates"))}),this.years.on("select",function(b){var c=a.get("focus");c.getFullYear()!=b&&(c.setDate(1),c.setFullYear(b),a.set("focus",c),a.renderPannel(),a.renderContainer("dates"))})},destroy:function(){this.dates.destroy(),this.months.destroy(),this.years.destroy(),n.superclass.destroy.call(this)}});n.YearColumn=i,n.MonthColumn=j,n.DateColumn=k,c.exports=n;var o=Object.prototype.toString}),e.$=$,e["widget/widget"]=FNX.__clz__["fnx/cmp/widget/widget"],e["templatable/templatable"]=FNX.__clz__["fnx/cmp/templatable/templatable"],FNX.__clz__["fnx/cmp/calendar/calendar"]=c("calendar/calendar")}(a)},window);